(function(){jQuery(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;return $(document).ready(function(){return $("#email").focus()}),$("#email").live("keydown",function(){return setTimeout(c,10)}),$("#email").live("change",function(){return setTimeout(c,10)}),$("#password").live("keydown",function(){return setTimeout(g,10)}),$("#password_confirmation").live("keydown",function(){return setTimeout(h,10)}),$("#step1_to_step2").live("click",function(){return setTimeout(k,10)}),$("#last_name").live("keydown",function(){return setTimeout(e,10)}),$("#first_name").live("keydown",function(){return setTimeout(d,10)}),$("#middle_name").live("keydown",function(){return setTimeout(f,10)}),$("#step2_to_step3").live("click",function(){return setTimeout(l,10)}),$("#step2_to_step4").live("click",function(){return setTimeout(l,10)}),$("#step3_to_step4").live("click",function(){return setTimeout(m,10)}),$("#faculty").live("change",function(){return setTimeout(a,10)}),$("#room").live("keydown",function(){return setTimeout(j,10)}),$("#phone").live("keydown",function(){return setTimeout(i,10)}),c=function(){var a,b;return $("#email").val()?(a=/^([a-z0-9_\-]+\.)*[a-z0-9_\-]+\@([a-z0-9][a-z0-9\-]*[a-z0-9]\.)+[a-z]{2,4}$/i,b=$("#email").val(),a.test(b)?jQuery.post("/register/validate_uniqueness_email",{email:$("#email").val()},function(a){return a!=="true"?($("#email").css("background","rgba(255, 0, 0, 0.2)"),$("#error_email").text("пользователь с таким email уже зарегистрирован")):($("#email").css("background","rgba(0, 255, 0, 0.2)"),$("#error_email").text(""))}):($("#email").css("background","rgba(255, 0, 0, 0.2)"),$("#error_email").text("некорректный email"))):($("#email").css("background","white"),$("#error_email").text(""))},g=function(){var a,c,d;$("#error_password").css("color","rgba(255, 0, 0, 0.8)"),$("#password").css("background","white"),$("#error_password").text(""),$("#password_confirmation").css("background","white"),$("#error_password_confirmation").text("");if($("#password_confirmation").val())return $("#password").val()?(a=/^([a-z0-9\?\'\+\-\_\<\>\"\;\`\:\!\@\#\$\%\^\&\*\(\)\{\}\[\]\,\.\/\\\|])+$/i,d=$("#password").val(),a.test(d)?$("#password").val().length>=5?$("#password").val().length<=30?(c=b($("#password").val()),c>3?(c===4?($("#password").css("background","rgba(255, 255, 0, 0.2)"),$("#error_password").css("color","rgba(255, 255, 0, 0.8)"),$("#error_password").text("средний пароль")):$("#password").css("background","rgba(0, 255, 0, 0.2)"),$("#password").val()===$("#password_confirmation").val()?$("#password_confirmation").css("background","rgba(0, 255, 0, 0.2)"):($("#password_confirmation").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password_confirmation").text("пароли не совпадают"))):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("слабый пароль"))):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль слишком длинный")):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль слишком короткий")):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль должен состоять только из латинских букв, цифр и спец-символов: ?'+-_<>\";`:!@#$%^&*(){}[],./\\| "))):($("#password_confirmation").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password_confirmation").text("пароли не совпадают"));if($("#password").val())return a=/^([a-z0-9\?\'\+\-\_\<\>\"\;\`\:\!\@\#\$\%\^\&\*\(\)\{\}\[\]\,\.\/\\\|])+$/i,d=$("#password").val(),a.test(d)?$("#password").val().length>=5?$("#password").val().length<=30?(c=b($("#password").val()),c>3?c===4?($("#password").css("background","rgba(255, 255, 0, 0.2)"),$("#error_password").css("color","rgba(200, 200, 0, 0.8)"),$("#error_password").text("средний пароль")):$("#password").css("background","rgba(0, 255, 0, 0.2)"):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("слабый пароль"))):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль слишком длинный")):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль слишком короткий")):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль должен состоять только из латинских букв, цифр и спец-символов: ?'+-_<>\";`:!@#$%^&*(){}[],./\\| "))},b=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;e=0,b="1234567890",c="abcdefghijklmnopqrstuvwxyz",g="ABCDEFGHIJKLMNOPQRSTUVWXYZ",d="?'+-_<>\";`:!@#$%^&*(){}[],./\\|";for(h=0,l=a.length;h<l;h++){f=a[h];if(b.indexOf(f,0)!==-1){++e;break}}for(i=0,m=a.length;i<m;i++){f=a[i];if(c.indexOf(f,0)!==-1){++e;break}}for(j=0,n=a.length;j<n;j++){f=a[j];if(g.indexOf(f,0)!==-1){++e;break}}for(k=0,o=a.length;k<o;k++){f=a[k];if(d.indexOf(f,0)!==-1){++e;break}}return a.length>7&&++e,e},h=function(){var a,b;if(!$("#password_confirmation").val())return $("#password_confirmation").css("background","white"),$("#error_password_confirmation").text("");if(!$("#password").val())return $("#password_confirmation").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password_confirmation").text("пароли не совпадают");a=/^([a-z0-9.-_])+$/i,b=$("#password").val();if($("#password").val().length>=5&&$("#password").val().length<=30&&a.test(b))return $("#password_confirmation").val()===$("#password").val()?($("#password_confirmation").css("background","rgba(0, 255, 0, 0.2)"),$("#error_password_confirmation").text("")):($("#password_confirmation").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password_confirmation").text("пароли не совпадают"))},k=function(){var a,c,d;return $("#error_password").css("color","rgba(255, 0, 0, 0.8)"),$("#password").css("background","white"),$("#error_password").text(""),$("#password_confirmation").css("background","white"),$("#error_password_confirmation").text(""),$("#password_confirmation").val()?$("#password").val()?(a=/^([a-z0-9\?\'\+\-\_\<\>\"\;\`\:\!\@\#\$\%\^\&\*\(\)\{\}\[\]\,\.\/\\\|])+$/i,d=$("#password").val(),a.test(d)?$("#password").val().length>=5?$("#password").val().length<=30?(c=b($("#password").val()),c>3?(c===4?($("#password").css("background","rgba(255, 255, 0, 0.2)"),$("#error_password").css("color","rgba(255, 255, 0, 0.8)"),$("#error_password").text("средний пароль")):$("#password").css("background","rgba(0, 255, 0, 0.2)"),$("#password").val()===$("#password_confirmation").val()?$("#password_confirmation").css("background","rgba(0, 255, 0, 0.2)"):($("#password_confirmation").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password_confirmation").text("пароли не совпадают"),$("#password_confirmation").focus())):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("слабый пароль"),$("#password").focus())):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль слишком длинный"),$("#password").focus()):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль слишком короткий"),$("#password").focus()):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль должен состоять только из латинских букв, цифр и спец-символов: ?'+-_<>\";`:!@#$%^&*(){}[],./\\| "),$("#password").focus())):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("введите пароль"),$("#password").focus()):$("#password").val()?(a=/^([a-z0-9\?\'\+\-\_\<\>\"\;\`\:\!\@\#\$\%\^\&\*\(\)\{\}\[\]\,\.\/\\\|])+$/i,d=$("#password").val(),a.test(d)?$("#password").val().length>=5?$("#password").val().length<=30?(c=b($("#password").val()),c>3?c===4?($("#password").css("background","rgba(255, 255, 0, 0.2)"),$("#error_password").css("color","rgba(200, 200, 0, 0.8)"),$("#error_password").text("средний пароль"),$("#password_confirmation").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password_confirmation").text("подтвердите пароль"),$("#password_confirmation").focus()):($("#password").css("background","rgba(0, 255, 0, 0.2)"),$("#password_confirmation").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password_confirmation").text("подтвердите пароль"),$("#password_confirmation").focus()):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("слабый пароль"))):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль слишком длинный")):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("пароль слишком короткий")):$("#password").css("background","rgba(255, 0, 0, 0.2)")):($("#password").css("background","rgba(255, 0, 0, 0.2)"),$("#error_password").text("введите пароль"),$("#password").focus()),$("#email").val()?(a=/^([a-z0-9_\-]+\.)*[a-z0-9_\-]+\@([a-z0-9][a-z0-9\-]*[a-z0-9]\.)+[a-z]{2,4}$/i,d=$("#email").val(),a.test(d)?jQuery.post("/register/validate_uniqueness_email",{email:$("#email").val()},function(a){},data!=="true"?($("#email").css("background","rgba(255, 0, 0, 0.2)"),$("#error_email").text("пользователь с таким email уже зарегистрирован")):($("#email").css("background","rgba(0, 255, 0, 0.2)"),$("#error_email").text(""))):($("#email").css("background","rgba(255, 0, 0, 0.2)"),$("#error_email").text("некорректный email"),$("#email").focus())):($("#email").css("background","rgba(255, 0, 0, 0.2)"),$("#error_email").text("введите email"),$("#email").focus())},e=function(){var a,b;return $("#last_name").val()?(b=$("#last_name").val(),a=/^([а-я])+$/i,a.test(b)?b.length>30?($("#last_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_last_name").text("фамилия слишком длинная")):($("#last_name").css("background","rgba(0, 255, 0, 0.2)"),$("#error_last_name").text("")):($("#last_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_last_name").text("фамилия введена некорректно"))):($("#last_name").css("background","white"),$("#error_last_name").text(""))},d=function(){var a,b;return $("#first_name").val()?(b=$("#first_name").val(),a=/^([а-я])+$/i,a.test(b)?b.length>30?($("#first_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_first_name").text("имя слишком длинное")):($("#first_name").css("background","rgba(0, 255, 0, 0.2)"),$("#error_first_name").text("")):($("#first_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_first_name").text("имя введено некорректно"))):($("#first_name").css("background","white"),$("#error_first_name").text(""))},f=function(){var a,b;return $("#middle_name").val()?(b=$("#middle_name").val(),a=/^([а-я])+$/i,a.test(b)?b.length>30?($("#middle_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_middle_name").text("отчество слишком длинное")):($("#middle_name").css("background","rgba(0, 255, 0, 0.2)"),$("#error_middle_name").text("")):($("#middle_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_middle_name").text("отчество введено некорректно"))):($("#middle_name").css("background","white"),$("#error_middle_name").text(""))},l=function(){var a,b;return $("#middle_name").val()?(b=$("#middle_name").val(),a=/^([а-я])+$/i,a.test(b)?b.length>30?($("#middle_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_middle_name").text("отчество слишком длинное"),$("#middle_name").focus()):($("#middle_name").css("background","rgba(0, 255, 0, 0.2)"),$("#error_middle_name").text("")):($("#middle_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_middle_name").text("отчество введено некорректно"),$("#middle_name").focus())):($("#middle_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_middle_name").text("введите отчество"),$("#middle_name").focus()),$("#first_name").val()?(b=$("#first_name").val(),a=/^([а-я])+$/i,a.test(b)?b.length>30?($("#first_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_first_name").text("имя слишком длинное"),$("#first_name").focus()):($("#first_name").css("background","rgba(0, 255, 0, 0.2)"),$("#error_first_name").text("")):($("#first_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_first_name").text("имя введено некорректно"),$("#first_name").focus())):($("#first_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_first_name").text("введите имя"),$("#first_name").focus()),$("#last_name").val()?(b=$("#last_name").val(),a=/^([а-я])+$/i,a.test(b)?b.length>30?($("#last_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_last_name").text("фамилия слишком длинная"),$("#last_name").focus()):($("#last_name").css("background","rgba(0, 255, 0, 0.2)"),$("#error_last_name").text("")):($("#last_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_last_name").text("фамилия введена некорректно"),$("#last_name").focus())):($("#last_name").css("background","rgba(255, 0, 0, 0.2)"),$("#error_last_name").text("введите фамилию"),$("#last_name").focus())},a=function(){var a;return a=$("select#faculty :selected").val(),a||(a=0),jQuery.get("/register/update_chair_select/"+a,function(a){return $("#chair").parent("p").html(a)})},i=function(){var a,b;if(!$("#phone").val())return $("#phone").css("background","white"),$("#error_phone").text("");b=$("#phone").val(),a=/^[0-9]{11}$/i;if(a.test(b))return $("#phone").css("background","rgba(0, 255, 0, 0.2)"),$("#error_phone").text("")},j=function(){return $("#room").val()?($("#room").css("background","rgba(0, 255, 0, 0.2)"),$("#error_room").text("")):($("#room").css("background","white"),$("#error_room").text(""))},m=function(){var a,b;b=$("#phone").val();if(b)return a=/^[0-9]{11}$/i,a.test(b)?($("#phone").css("background","rgba(0, 255, 0, 0.2)"),$("#error_phone").text("")):($("#phone").css("background","rgba(255, 0, 0, 0.2)"),$("#error_phone").text("неккоректный номер телефона"),$("#phone").focus())},0})}).call(this);